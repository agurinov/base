urlconf:

  /myip:
    - type: socket
      address: tcp://geoiphost/foo/bar

  *:
    - type: process:
      name: "echo -n 'No answer'"
      foo: bar

=======



collection:

  # Route
  - pattern: "/foo/bar"
    pipeline:

      - type: tcp
        address: geoiphost:8080

  # Route
  - pattern: "{*}"
    pipeline:

      - type: http
        address: tcp://geoiphost

      - type: process
        cmd: "echo -n 'No answer'"
        foo: bar





  /myip:
        - type: socket
          address: tcp://geoiphost/foo/bar

      *:
        - type: process:
          name: "echo -n 'No answer'"
          foo: bar




======




urlconf:

  - case:
    pattern: "/?{options}"
    pipeline:
      - process:
        name: geo.py
      - spcket:
        name: geo.py

  - case:
    pattern: "*"
    pipeline:
      - process:
        name: "echo -n 'No answer'"
